{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Informaci\u00f3 del m\u00f2dul","text":""},{"location":"#professorat","title":"Professorat","text":"<ul> <li>Paco Galera</li> </ul>"},{"location":"#serveis-en-xarxa","title":"Serveis en Xarxa","text":"<ul> <li>2n Sistemes Microinform\u00e0tics i en Xarxa (SMX)</li> <li>IES Jaume II el Just</li> <li>Tavernes de la Valldigna</li> <li>AULES</li> </ul>"},{"location":"#continguts","title":"Continguts","text":"<ol> <li>Interconnexi\u00f3 de xarxes</li> <li>Acc\u00e9s remot</li> <li>DHCP</li> <li>DNS</li> <li>HTTP</li> <li>FTP</li> <li>Proxy</li> <li>Wi-Fi</li> </ol>"},{"location":"#avaluacio","title":"Avaluaci\u00f3","text":"<ul> <li>Pr\u00f2ximament</li> </ul> <p>Consideracions</p> <ul> <li>Pr\u00f2ximament</li> </ul>"},{"location":"Server%20NAT/","title":"Pr\u00e0ctica UD1. NAT amb Ubuntu Server 24.04","text":"<p>Aquest document descriu la configuraci\u00f3 de xarxa d'un laboratori de xarxes muntat amb VirtualBox, format per dues m\u00e0quines virtuals: un Ubuntu Server 24.04 i un Lubuntu 24.04. A continuaci\u00f3 es descriu la configuraci\u00f3 de cada m\u00e0quina, la connectivitat entre elles i els passos per configurar la passarel\u00b7la per permetre l'acc\u00e9s a Internet des del Lubuntu a trav\u00e9s de l'Ubuntu Server.</p>"},{"location":"Server%20NAT/#configuracio-de-les-maquines","title":"Configuraci\u00f3 de les m\u00e0quines","text":""},{"location":"Server%20NAT/#ubuntu-server-2404","title":"Ubuntu Server 24.04","text":"<ul> <li>enp0s3: mode NAT, pren IP autom\u00e0ticament per DHCP.</li> <li>enp0s8: mode xarxa interna (intnet), IP fixa 192.168.1.1/24.</li> </ul> <p>Comprovaci\u00f3 de la configuraci\u00f3 de la interf\u00edcie enp0s8: Bash<pre><code>ip a show enp0s8\n</code></pre></p> <p>Si cal editar la configuraci\u00f3: Bash<pre><code>sudo nano /etc/netplan/00-installer-config.yaml\n</code></pre></p> <p>Configuraci\u00f3: YAML<pre><code>network:\n  ethernets:\n    enp0s3:\n      dhcp4: true\n    enp0s8:\n      addresses:\n        - 192.168.1.1/24\n  version: 2\n</code></pre></p> <p>Aplica els canvis amb: Bash<pre><code>sudo netplan apply\n</code></pre></p>"},{"location":"Server%20NAT/#lubuntu-2404","title":"Lubuntu 24.04","text":"<ul> <li>enp0s3: mode xarxa interna (intnet), IP fixa 192.168.1.40/24.</li> </ul> <p>Comprovaci\u00f3 de la configuraci\u00f3 de la interf\u00edcie enp0s3: Bash<pre><code>ip a show enp0s3\n</code></pre></p> <p>Si cal editar la configuraci\u00f3: Bash<pre><code>sudo nano /etc/netplan/00-installer-config.yaml\n</code></pre></p> <p>Configuraci\u00f3: YAML<pre><code>network:\n  ethernets:\n    enp0s3:\n      addresses:\n        - 192.168.1.40/24\n  version: 2\n</code></pre></p> <p>Aplica els canvis amb: Bash<pre><code>sudo netplan apply\n</code></pre></p>"},{"location":"Server%20NAT/#verificar-la-connectivitat","title":"Verificar la connectivitat","text":"<p>Un cop configurades les m\u00e0quines, cal verificar la connectivitat amb els seg\u00fcents pings:</p> <ul> <li> <p>Des de Lubuntu (ping a l'Ubuntu Server): Bash<pre><code>ping 192.168.1.1\n</code></pre></p> </li> <li> <p>Des de l'Ubuntu Server (ping a Lubuntu): Bash<pre><code>ping 192.168.1.40\n</code></pre></p> </li> </ul>"},{"location":"Server%20NAT/#configurar-la-passarella-opcional","title":"Configurar la passarel\u00b7la (opcional)","text":"<p>Per permetre que Lubuntu tingui acc\u00e9s a Internet a trav\u00e9s de l'Ubuntu Server, cal seguir aquests passos:</p>"},{"location":"Server%20NAT/#activar-el-forwarding-de-paquets-a-lubuntu-server","title":"Activar el forwarding de paquets a l'Ubuntu Server:","text":"<p>Editem el fitxer <code>/etc/sysctl.conf</code> per permetre el forwarding de paquets IPv4: Bash<pre><code>sudo nano /etc/sysctl.conf\n</code></pre> Descomentar la l\u00ednia: Bash<pre><code>net.ipv4.ip_forward=1\n</code></pre> Aplicar el canvi amb: Bash<pre><code>sudo sysctl -p\n</code></pre></p>"},{"location":"Server%20NAT/#configurar-nat-a-lubuntu-server","title":"Configurar NAT a l'Ubuntu Server:","text":"<p>Per permetre que el tr\u00e0nsit de la xarxa interna pugui sortir a Internet a trav\u00e9s de l'interf\u00edcie NAT (enp0s3), necessitem configurar NAT amb iptables.</p> <p>Afegeix la seg\u00fcent regla: Bash<pre><code>sudo iptables -t nat -A POSTROUTING -o enp0s3 -j MASQUERADE\n</code></pre></p>"},{"location":"Server%20NAT/#explicacio-del-comandament","title":"Explicaci\u00f3 del comandament:","text":"<ul> <li><code>iptables</code>: \u00c9s l'eina per gestionar les regles del tallafocs.</li> <li><code>-t nat</code>: Aquesta opci\u00f3 indica que volem treballar amb la taula de nat (Network Address Translation), que \u00e9s la que gestiona les traduccions d'adreces IP.</li> <li><code>-A POSTROUTING</code>: Afegeix (<code>-A</code>) una regla a la cadena POSTROUTING, que s'aplica despr\u00e9s que un paquet hagi estat rutejat. \u00c9s on es defineix la NAT de sortida.</li> <li><code>-o enp0s3</code>: La regla s'aplica als paquets que surten per la interf\u00edcie enp0s3 (que est\u00e0 en mode NAT i connecta la m\u00e0quina virtual a Internet).</li> <li><code>-j MASQUERADE</code>: Aquesta acci\u00f3 indica que el tr\u00e0nsit que surt per enp0s3 ha de tenir l'adre\u00e7a IP de la interf\u00edcie reempla\u00e7ada per l'adre\u00e7a p\u00fablica de la m\u00e0quina, permetent aix\u00ed la traducci\u00f3 d'adreces.</li> </ul> <p>Fer persistent la regla: Bash<pre><code>sudo apt install iptables-persistent\nsudo netfilter-persistent save\n</code></pre></p>"},{"location":"Server%20NAT/#configurar-la-passarella-a-lubuntu","title":"Configurar la passarel\u00b7la a Lubuntu:","text":"<p>A Lubuntu, configurem l'Ubuntu Server com a passarel\u00b7la per sortir a Internet i li afegim servidors DNS:</p> YAML<pre><code>network:\n  ethernets:\n    enp0s3:\n      addresses:\n        - 192.168.1.40/24\n      routes:\n        - to: default\n          via: 192.168.1.1\n      nameservers:\n        addresses: [8.8.8.8, 1.1.1.1]\n  version: 2\n</code></pre>"}]}