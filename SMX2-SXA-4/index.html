
<!doctype html>
<html lang="ca" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Paco Galera & Javier Beteta">
      
      
        <link rel="canonical" href="https://pgalera.github.io/sxa/SMX2-SXA-4/">
      
      
        <link rel="prev" href="../SMX2-SXA-3/">
      
      
        <link rel="next" href="../CanviMirror/">
      
      
      <link rel="icon" href="../img/logojaume.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.33">
    
    
      
        <title>UD4. El servei DNS - Serveis en Xarxa</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-GJ8MB56SLW"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-GJ8MB56SLW",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-GJ8MB56SLW",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="UD4. El servei DNS - Serveis en Xarxa" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="https://pgalera.github.io/sxa/assets/images/social/SMX2-SXA-4.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://pgalera.github.io/sxa/SMX2-SXA-4/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="UD4. El servei DNS - Serveis en Xarxa" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="https://pgalera.github.io/sxa/assets/images/social/SMX2-SXA-4.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ud4-el-servei-dns" class="md-skip">
          Salta el contingut
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Capçalera">
    <a href=".." title="Serveis en Xarxa" class="md-header__button md-logo" aria-label="Serveis en Xarxa" data-md-component="logo">
      
  <img src="../img/logojaume.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Serveis en Xarxa
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              UD4. El servei DNS
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Mode oscur"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Mode oscur" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Mode clar"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Mode clar" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cerca" placeholder="Cerca" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Cerca">
        
        <button type="reset" class="md-search__icon md-icon" title="Neteja" aria-label="Neteja" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicialitzant cerca
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegació" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Serveis en Xarxa" class="md-nav__button md-logo" aria-label="Serveis en Xarxa" data-md-component="logo">
      
  <img src="../img/logojaume.png" alt="logo">

    </a>
    Serveis en Xarxa
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../SMX2-SXA-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD1. Interconnexió de xarxes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../SMX2-SXA-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD2. Accés remot
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../SMX2-SXA-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD3. El servei DHCP
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    UD4. El servei DNS
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    UD4. El servei DNS
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Taula de continguts">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Taula de continguts
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccio" class="md-nav__link">
    <span class="md-ellipsis">
      Introducció
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sistemes-de-noms-plans-i-jerarquics" class="md-nav__link">
    <span class="md-ellipsis">
      Sistemes de noms plans i jeràrquics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sistemes de noms plans i jeràrquics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elements-de-lespai-de-noms-de-domini" class="md-nav__link">
    <span class="md-ellipsis">
      Elements de l'espai de noms de domini
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pràctiques i Manuals
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Pràctiques i Manuals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CanviMirror/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Canvi de Mirror
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ManUbuntuServerDocker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker en Ubuntu Server
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Taula de continguts">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Taula de continguts
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccio" class="md-nav__link">
    <span class="md-ellipsis">
      Introducció
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sistemes-de-noms-plans-i-jerarquics" class="md-nav__link">
    <span class="md-ellipsis">
      Sistemes de noms plans i jeràrquics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sistemes de noms plans i jeràrquics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elements-de-lespai-de-noms-de-domini" class="md-nav__link">
    <span class="md-ellipsis">
      Elements de l'espai de noms de domini
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="ud4-el-servei-dns">UD4. El servei DNS</h1>
<p><center><img alt="Arbre DNS" src="../img/ud4/arbolDNS.png" /></center></p>
<h2 id="introduccio">Introducció</h2>
<p>El sistema de noms de domini DNS (Domain Name System) <strong>proporciona un mecanisme eficaç per fer la resolució de noms de domini a adreces IP</strong>. Com a usuaris (humans) ens és més fàcil adreçar-nos a un nom de domini (de host, de web, de servidor de correu, etc.) utilitzant un text identificatiu (per exemple, www.marca.com) que no pas a l'adreça IP pertinent (per exemple, 213.73.40.230). El servei DNS no solament permet fer la resolució de noms de domini a adreces IP, sinó també la resolució inversa. És a dir, a partir d'una IP esbrinar el nom de domini.</p>
<p>El servei DNS proporciona independència del nom de domini respecte a la IP. Així un domini pot canviar d'IP de manera transparent per als usuaris del domini. Fins i tot és usual que un domini s'identifiqui amb més d'una IP com a mesura de redundància contra la caiguda del sistema o com a balanceig de càrregues. Altres serveis proporcionats pel DNS són la identificació dels servidors de correu d'un domini, de cada un dels hosts que pertanyen a la xarxa, servidors d'impressió, etc.</p>
<div class="admonition info">
<p class="admonition-title">ARPANET</p>
<p>ARPANET és la xarxa de commutació de paquets que va desenvolupar el Departament de Defensa dels Estats Units i que va ser la predecessora d'Internet.</p>
<p>Un sistema de noms pla es basa en la utilització d'un fitxer de text que descriu cada host amb la seva corresponent adreça IP. Es pot usar per definir àlies per equips locals en xarxes petites, però no és escalable a xarxes grans i molt menys a Internet.</p>
</div>
<h2 id="sistemes-de-noms-plans-i-jerarquics">Sistemes de noms plans i jeràrquics</h2>
<p>El problema d'identificar els equips es produeix des de bon principi de l'existència de les xarxes d'ordinadors i no és específic de les xarxes TCP/IP. Cal un mecanisme en "llenguatge humà" per identificar els equips de la xarxa. En especial els que proporcionen serveis als altres equips i usuaris. En la xarxa inicial <em>ARPANET</em>, els equips ja rebien un nom. Aquests noms es feien públics per mitjà d'un fitxer centralitzat que contenia els noms de tots els equips de la xarxa i la seva identificació. Aquest fitxer era el fitxer <strong><em>hosts.txt</em></strong> (en sistemes GNU/Linux, conegut com a <strong><em>/etc/hosts</em></strong>).</p>
<p>Exemple de fitxer de noms pla per descriure els àlies d'una xarxa local de casa:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span>
<span class="normal"><a href="#__codelineno-0-8">8</a></span>
<span class="normal"><a href="#__codelineno-0-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="o">[</span>root@portatil<span class="w"> </span>~<span class="o">]</span><span class="c1"># cat /etc/hosts</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="c1"># Do not remove the following line, or various programs</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="c1"># that require network functionality will fail.</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="m">127</span>.0.0.1<span class="w"> </span>localhost.localdomain<span class="w"> </span>localhost<span class="w"> </span>localhost
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>::1<span class="w"> </span>localhost6.localdomain6<span class="w"> </span>localhost6
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="m">192</span>.168.1.1<span class="w"> </span>router<span class="w"> </span>routerWF
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="m">192</span>.168.1.31<span class="w"> </span>server1<span class="w"> </span>escriptori<span class="w"> </span>pare
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="m">192</span>.168.1.32<span class="w"> </span>estacio1<span class="w"> </span>dormitori<span class="w"> </span>mare
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="m">192</span>.168.1.33<span class="w"> </span>estacio2<span class="w"> </span>nen<span class="w"> </span>jocs<span class="w"> </span>supercrac
</code></pre></div></td></tr></table></div>
<p><strong>POSAR NOMS ALS ORDINAODRS DE CASA</strong></p>
<p>El fitxer anterior pertany al PC anomenat <strong>portatil</strong> i posa noms "casolans" als altres ordinadors de la família. Així per exemple l'equip 192.168.1.33 es pot anomenar de les quatre maneres diferents que s'indiquen.</p>
<p>En una xarxa petita es pot generar un fitxer amb el nom i identificador IP de tots els hosts, centralitzat en un servidor, i encarregar-se de distribuir còpies d'aquest fitxer a tots els equips de la xarxa. Però aquest model de coneixement no és escalable. Si la xarxa creix és impossible de mantenir. Utilitzar aquest model significaria que hi ha un equip que centralitza els noms de tots els hosts d'Internet en un sol fitxer! D'altra banda, també significaria que aquest fitxer s'ha de repartir entre tots els equips d'Internet perquè sàpiguen com es diuen els altres equips cada cop que hi ha una actualització. Evidentment cal una altra solució.</p>
<p><strong>PROBLEMES D'ACTUALITZACIÓ D'UNA XARXA</strong></p>
<p>Imagineu els problemes que es presenten en voler fer arribar un mateix fitxer a tots els hosts. Hi haurà inconsistències amb equips que han rebut l'actualització i altres que no. El trànsit de copiar el fitxer en cada equip. Un nou equip a Internet vol dir escriure de nou el fitxer i tornar-lo enviar a tothom!</p>
<p>El 1983 sorgeix el <em>Domain Name System</em> (DNS) per aportar una solució escalable i pràctica. El DNS es basa en una base de dades de noms de domini <strong>jeràrquica</strong> i <strong>distribuïda</strong>:</p>
<ul>
<li><strong>Jeràrquica</strong> perquè cada node depén d' un element pare (domini superior), excepte el node arrel. És a dir s'organitza en una estructura de dominis que es poden compondre de subdominis que també es poden dividir en subdominis i així fins a 127 nivells (originàriament). Aquests dominis són gestionats per servidors DNS responsables de cada <strong>zona</strong>.</li>
<li><strong>Distribuïda</strong> perquè la informació no està tota junta en un sol repositori central, sinó que la informació es troba repartida per parts en els servidors DNS d'Internet. Cada servidor DNS autoritari conté la base de dades de la seva <strong>zona</strong>.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Reflexiona</p>
<p><strong>Arbres dels sistemes DNS i de fitxers</strong></p>
<p>El sistema de noms de domini té una estructura similar a l'arbre que s'utilitza per representar un sistema de fitxers. La diferència rau en el fet que les rutes dels sistemes de fitxers s'indiquen des de l'arrel fins al node (per exemple, <strong>/etc/bind/bind.conf</strong>), i en canvi en el DNS les rutes s'indiquen del node inferior a l'arrel (<strong>ns1.serveisenxarxa.org</strong>).</p>
</div>
<h3 id="elements-de-lespai-de-noms-de-domini">Elements de l'espai de noms de domini</h3>
<p>El servei DNS permet identificar qualsevol equip en la xarxa i assegurar-se que no hi ha col·lisions, és a dir, noms duplicats. Es basa en una estructura jeràrquica de noms en forma d'arbre on l'arrel és el node o domini arrel (.) del qual deriven tots els altres nodes. Aquest es divideix en altres dominis com, per exemple, .com, .edu, .org, .cat, etc. Al seu torn, cada domini es pot dividir en altres subdominis i així successivament. Les rutes s'indiquen començant pel subdomini més avall en la l'arbre cap al node arrel (<strong>www.serveisenxarxa.org</strong>).</p>
<p>Els nodes s'identifiquen per un text (el nom de domini) que no es pot repetir en el mateix nivell, però sí en altres llocs de l'arbre de l'espai de noms. El mateix passa amb els fitxers: no hi pot haver dos fitxers amb el mateix nom en el mateix directori, però sí en ubicacions diferents. Un <strong>domini</strong> és el node indicat i tota la resta de l'arbre que penja d'aquest node (penseu en l'exemple d'un directori: si es vol copiar un directori, s'entén que està format pel mateix directori i tots els subdirectoris que conté). S'entén per <strong>espai de noms</strong> el conjunt de tots els dominis que formen l'arbre DNS.</p>
<div class="admonition info">
<p class="admonition-title">Dominis d'alt nivell</p>
<p>Els següents són exemples de dominis d'alt nivell d'alguns països:</p>
<ul>
<li>FR: França.</li>
<li>AD: Andorra.</li>
<li>AQ: Antàrtida.</li>
<li>GB: Gran Bretanya.</li>
<li>UK: Regne Unit.</li>
<li>DE: Alemanya.</li>
<li>NL: Països Baixos.</li>
<li>AR: Argentina.</li>
<li>US: Estats Units.</li>
</ul>
</div>
<p>L'estructura en arbre (jeràrquica) de l'espai de noms proporciona un mecanisme d'identificació únic d'un domini. No pot existir cap domini que tinga exactament el mateix nom absolut FQDN (<em>Full Qualified Domain Name</em> o nom de domini complet). Els dominis es llegeixen des del node a l'arrel. Així un domini que corresponga al departament d'administració de l'organització <strong>example.org</strong> dins del domini org s'identifica, per exemple, com a <strong>admin.example.org</strong>. Si ens fixem en el domini anterior, veurem que acaba en punt, és una manera d'indicar el domini arrel. <strong>El domini arrel es defineix com un domini sense etiqueta</strong>, o millor amb la cadena buida com a etiqueta. Això provoca que els dominis que s'indiquin de manera absoluta acabin amb el caràcter punt.</p>
<p><center><img alt="Exemple d'espai de noms de domini" src="../img/ud4/espaiDeNoms.png" /></center></p>
<p><strong>EL PUNT FINAL EN ELS NOMS DE DOMINI</strong></p>
<p>La majoria de vegades escrivim els dominis com si foren absoluts, però són relatius al node arrel perquè no posem el punt final. Un altre cop es pot fer l'analogia amb les rutes relatives i les rutes absolutes del sistema de fitxers.</p>
<p>Un <strong>domini absolut</strong> o FQDN és el que inclou tots els nodes des del domini fins a l'arrel (inclosa en forma de punt final). Un <strong>domini relatiu</strong> no inclou l'arrel i pot ser relatiu al domini actual. Per exemple, dins del domini <strong>serveisenxarxa.org</strong> del domini moodle (de l'aula virtual) és un nom relatiu que fa referència al nom absolut <strong>moodle.serveisenxarxa.org</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Cal recordar</p>
<p>El sistema de noms de domini d'Internet DNS utilitza els elements següents:</p>
<ul>
<li><strong>Espai de noms</strong>. El conjunt de tots els dominis que formen l'arbre de dominis.</li>
<li><strong>Nom de domini</strong>. Text identificatiu d'un domini.</li>
<li><strong>Domini absolut (FQDN)</strong>. Nom de domini absolut començant pel node i acabant en l'arrel (.).</li>
<li><strong>Domini relatiu</strong>. Nom de domini sense qualificar.</li>
<li><strong>Domini arrel</strong>. Domini del qual deriven tots els altres. S'indica amb un punt o amb la cadena buida.</li>
</ul>
</div>
<p><strong>ELS NOMS DE DOMINI D'INTERNET</strong></p>
<p>A Internet els noms de dominis segueixen una estructura basada en els seus inicis, però que ha anat evolucionant. El node arrel es va dividir en un conjunt de subdominis anomenats TLD (<em>top level domains</em> o dominis d'alt nivell). Aquests dominis eren com, edu, gov, mil, org, net i int. Posteriorment se'n van afegir d'altres com cat, name, biz, info, pro, aero, coop i museum. Es volien organitzar els dominis per funcionalitat posant les empreses en els .com, les organitzacions en els .org, etc. Es va veure, però, la necessitat de poder agrupar els dominis de manera geogràfica (ccTLD, <em>country code top level domains</em>) i van sorgit els famosos identificadors de país. Per a cada país es va generar un TLD de dos caràcters utilitzant el ja existent estàndard internacional ISO 3166 (els famosos .es, .fr, etc.).</p>
<div class="admonition note">
<p class="admonition-title">Cal que conegues</p>
<p>Caràcters en els noms de domini</p>
<p>L'estàndard DNS indica que els noms de domini han de ser de seixanta-quatre caràcters com a màxim, i només poden incloure caràcters llatins, dígits del 0 al 9 i el guió. Les majúscules i minúscules són indiferents. Hi ha mecanismes com l'IDNA (<em>an internationalized domain name</em> o noms de domini internacionalitzats) per permetre utilitzar altres alfabets en els noms de domini.</p>
</div>







  
  



  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Torna a l'inici
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Peu de pàgina" >
        
          
          <a href="../SMX2-SXA-3/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: UD3. El servei DHCP">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                UD3. El servei DHCP
              </div>
            </div>
          </a>
        
        
          
          <a href="../CanviMirror/" class="md-footer__link md-footer__link--next" aria-label="Següent: Canvi de Mirror">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Següent
              </span>
              <div class="md-ellipsis">
                Canvi de Mirror
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Apunts SXA - 2SMX by P.Galera & J.Beteta es troba sota llicència CC BY-NC-SA 4.0 - <a href="#__consent">Canvia la configuració de les cookies</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="mailto:fj.galerataberner@edu.gva.es" target="_blank" rel="noopener" title="Contacte" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.8l167.6-182.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  




  


<h4>Consentiment de Cookies</h4>
<p>Utilitzem cookies per reconèixer les vostres visites i preferències repetides, així com per mesurar l'eficàcia de la nostra documentació i si els usuaris troben el que estan cercant. Amb el vostre consentiment, ens esteu ajudant a millorar la nostra documentació.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accepta</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Gestiona la configuració</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.top", "navigation.footer", "toc.follow", "content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiat al porta-retalls", "clipboard.copy": "C\u00f2pia al porta-retalls", "search.result.more.one": "1 m\u00e9s en aquesta p\u00e0gina", "search.result.more.other": "# m\u00e9s en aquesta p\u00e0gina", "search.result.none": "Cap document coincideix", "search.result.one": "1 document coincident", "search.result.other": "# documents coincidents", "search.result.placeholder": "Escriu per a comen\u00e7ar a cercar", "search.result.term.missing": "Desaparegut", "select.version": "Selecciona la versi\u00f3"}}</script>
    
    
      <script src="../assets/javascripts/bundle.af256bd8.min.js"></script>
      
    
  </body>
</html>